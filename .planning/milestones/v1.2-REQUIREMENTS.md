# Requirements Archive: v1.2 Alignment Guides

**Archived:** 2026-02-16
**Status:** SHIPPED — 16/16 requirements satisfied

---

## Core Interaction

- [x] **REQ-AG-01**: Preview line follows cursor — full-height vertical (default) or full-width horizontal
  - *Phase 9 — GuideLineManager.updatePreview() updates position from cursor point*
- [x] **REQ-AG-02**: Tab key toggles preview line direction (vertical ↔ horizontal)
  - *Phase 9 — keyDown case 48 calls toggleDirection()*
- [x] **REQ-AG-03**: Click to place guide line at current cursor position
  - *Phase 9 — mouseDown() calls placeGuide() with fade-in animation*
- [x] **REQ-AG-04**: Position pill on each placed line showing X (vertical) or Y (horizontal) in pixels
  - *Phase 9 — layoutPill() shows label (X/Y) + 4-digit value with squircle bg*

## Color System

- [x] **REQ-AG-05**: Spacebar cycles color presets: dynamic (difference blend), red, green, orange, blue
  - *Phase 10 — cycleStyle() advances through GuideLineStyle.allCases*
- [x] **REQ-AG-06**: Color circles appear near cursor on first spacebar press, stay while cycling, auto-hide after ~1s
  - *Phase 10 — ColorCircleIndicator with arc layout, 1s debounced auto-hide*

## Cursor States

- [x] **REQ-AG-07**: Resize left-right cursor for vertical preview, resize up-down for horizontal
  - *Phase 9 — resetCursorRects() uses resizeLeftRight/resizeUpDown*
- [x] **REQ-AG-08**: Pointing hand cursor when hovering a placed line
  - *Phase 10 — CursorManager.transitionToPointingHandFromSystem()*

## Remove Interaction

- [x] **REQ-AG-09**: Hover placed line (~5px zone) → line turns red + dashed, pill shows "Remove"
  - *Phase 10 — GuideLine.setHovered() sets red stroke, dashed pattern, "Remove" text*
- [x] **REQ-AG-10**: Click on hovered line to remove it
  - *Phase 10 — mouseDown hover-first check, removeLine() with shrink animation*

## Hint Bar

- [x] **REQ-AG-11**: Hint bar with alignment-guides content (tab/space/esc keycaps)
  - *Phase 11 — HintBarMode.alignmentGuides with Tab, Space, ESC keycaps*

## System

- [x] **REQ-AG-12**: Multi-monitor — one window per screen, lines stay on their screen
  - *Phase 11 — AlignmentGuides.run() creates one window per NSScreen.screens*
- [x] **REQ-AG-13**: ESC exits and closes all windows
  - *Phase 9+11 — keyDown ESC calls handleExit(), closes all windows, terminates NSApp*
- [x] **REQ-AG-14**: Capture-before-window pattern (frozen screenshot overlay)
  - *Phase 9+11 — Capture ALL screens before creating ANY windows*
- [x] **REQ-AG-15**: CAShapeLayer-based rendering (GPU-composited, <5% CPU on mouse move)
  - *Phase 9 — GuideLine uses 4 CAShapeLayer/CATextLayer, CATransaction.setDisableActions(true)*
- [x] **REQ-AG-16**: Reuse shared utilities (CoordinateConverter, PermissionChecker, HintBarView, CursorManager)
  - *Phase 11 — HintBarView with mode system, CursorManager with pointing hand transitions*

## Traceability

| Requirement | Phase | Status | Notes |
|-------------|-------|--------|-------|
| REQ-AG-01 | 9 | Satisfied | |
| REQ-AG-02 | 9 | Satisfied | |
| REQ-AG-03 | 9 | Satisfied | |
| REQ-AG-04 | 9 | Satisfied | |
| REQ-AG-05 | 10 | Satisfied | |
| REQ-AG-06 | 10 | Satisfied | Polished in phase 11 (borders, animation, position) |
| REQ-AG-07 | 9 | Satisfied | |
| REQ-AG-08 | 10 | Satisfied | |
| REQ-AG-09 | 10 | Satisfied | |
| REQ-AG-10 | 10 | Satisfied | Remove-state bug fixed in phase 11 |
| REQ-AG-11 | 11 | Satisfied | Tab/space keycaps refined in phase 11 plans 04, 06 |
| REQ-AG-12 | 11 | Satisfied | Coordinate conversion fixed in plan 05 |
| REQ-AG-13 | 9+11 | Satisfied | Extended to multi-monitor in phase 11 |
| REQ-AG-14 | 9+11 | Satisfied | Extended to multi-monitor in phase 11 |
| REQ-AG-15 | 9 | Satisfied | |
| REQ-AG-16 | 11 | Satisfied | |

---

*Archived: 2026-02-16 after v1.2 milestone completion*
